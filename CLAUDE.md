# Activity Log SNS - é–‹ç™ºãƒ¡ãƒ¢

**ã€é‡è¦ã€‘ã‚³ãƒ¡ãƒ³ãƒˆãªã©ã¯å¿…ãšå…¨ã¦æ—¥æœ¬èªã«ã—ã¦ãã ã•ã„**

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€é–‹ç™ºè€…ã¨AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã®ãŸã‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‚’è¨˜éŒ²ã—ã¦ã„ã¾ã™ã€‚

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

Next.js 14 + Supabaseã‚’ä½¿ã£ãŸæ´»å‹•ãƒ­ã‚°SNSã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æ¯æ—¥ã®æ´»å‹•ã‚’è¨˜éŒ²ã—ã€ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å½¢å¼ã§å…±æœ‰ã§ãã¾ã™ã€‚

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 14 (App Router), React, TypeScript
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS + shadcn/ui
- **ç”»åƒå‡¦ç†**: react-easy-cropï¼ˆã‚¯ãƒ­ãƒƒãƒ—ï¼‰ã€browser-image-compressionï¼ˆåœ§ç¸®ï¼‰
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³**: canvas-confettiï¼ˆãŠç¥ã„ç´™å¹é›ªï¼‰
- **AI**: Anthropic Claude API (@anthropic-ai/sdk) - æŠ•ç¨¿æ™‚ã®å‹•çš„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Supabase (Auth, Database, RLS, Storage)
- **çŠ¶æ…‹ç®¡ç†**: Server Components + Client Components

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®æ„å›³

```
app/
  â”œâ”€â”€ api/
  â”‚   â”œâ”€â”€ generate-message/  # Claude APIã‚’ä½¿ã£ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  â”‚   â””â”€â”€ generate-name/     # Claude APIã‚’ä½¿ã£ãŸãƒ¦ãƒ¼ãƒ¢ã‚¢ã‚ã‚‹åå‰ç”Ÿæˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  â”œâ”€â”€ auth/callback/      # Supabaseèªè¨¼å¾Œã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†
  â”œâ”€â”€ login/              # æœªèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
  â”œâ”€â”€ profile/edit/       # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ãƒšãƒ¼ã‚¸
  â”œâ”€â”€ users/[id]/         # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚¤ãƒšãƒ¼ã‚¸ï¼ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼‹æŠ•ç¨¿ä¸€è¦§ï¼‹ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼‰
  â””â”€â”€ page.tsx            # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã€ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆå¯¾å¿œï¼‰

components/
  â”œâ”€â”€ ui/                      # shadcn/uiã®å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  â”œâ”€â”€ header.tsx               # [Client] ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ãƒ»ãƒã‚¤ãƒšãƒ¼ã‚¸ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã€ãƒ¢ãƒã‚¤ãƒ«ç”¨ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰
  â”œâ”€â”€ login-form.tsx           # [Client] ãƒ­ã‚°ã‚¤ãƒ³/ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
  â”œâ”€â”€ activity-log-form.tsx    # [Client] æ´»å‹•ãƒ­ã‚°/é”æˆãƒ­ã‚°æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆãƒ­ã‚°ã‚¿ã‚¤ãƒ—é¸æŠãƒ»ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯¾å¿œï¼‰
  â”œâ”€â”€ activity-log-list.tsx    # [Client] æ´»å‹•ãƒ­ã‚°ä¸€è¦§è¡¨ç¤ºï¼ˆãƒ•ã‚©ãƒ­ãƒ¼ãƒœã‚¿ãƒ³ãƒ»ç”»åƒè¡¨ç¤ºå¯¾å¿œï¼‰
  â”œâ”€â”€ activity-calendar.tsx    # [Client] æŠ•ç¨¿ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆæœˆé–“è¡¨ç¤ºãƒ»æ—¥ä»˜ãƒ•ã‚£ãƒ«ã‚¿ãƒ»é”æˆãƒ­ã‚°é‡‘è‰²ãƒã‚¤ãƒ©ã‚¤ãƒˆå¯¾å¿œï¼‰
  â”œâ”€â”€ comment-section.tsx      # [Client] ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½
  â”œâ”€â”€ follow-button.tsx        # [Client] ãƒ•ã‚©ãƒ­ãƒ¼/ãƒ•ã‚©ãƒ­ãƒ¼è§£é™¤ãƒœã‚¿ãƒ³
  â”œâ”€â”€ timeline-tabs.tsx        # [Client] ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚¿ãƒ–ï¼ˆå…¨éƒ¨/æ´»å‹•ãƒ­ã‚°/é”æˆãƒ­ã‚°/ãƒ•ã‚©ãƒ­ãƒ¼ä¸­ï¼‰+ ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿
  â”œâ”€â”€ user-profile-header.tsx  # [Server] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼
  â”œâ”€â”€ profile-edit-form.tsx    # [Client] ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¯ãƒ­ãƒƒãƒ—å¯¾å¿œï¼‰
  â”œâ”€â”€ image-crop-dialog.tsx    # [Client] ç”»åƒã‚¯ãƒ­ãƒƒãƒ—ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼ˆreact-easy-cropä½¿ç”¨ï¼‰
  â”œâ”€â”€ ImageUpload.tsx          # [Client] ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  â”œâ”€â”€ ActivityImages.tsx       # [Client] ç”»åƒè¡¨ç¤ºãƒ»æ‹¡å¤§ãƒ¢ãƒ¼ãƒ€ãƒ«
  â”œâ”€â”€ post-actions-menu.tsx    # [Client] æŠ•ç¨¿ç·¨é›†ãƒ»å‰Šé™¤ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆæœ¬äººã®ã¿è¡¨ç¤ºï¼‰
  â”œâ”€â”€ post-edit-dialog.tsx     # [Client] æŠ•ç¨¿ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
  â”œâ”€â”€ encouragement-modal.tsx  # [Client] æŠ•ç¨¿æ™‚ã®æ¿€åŠ±/ç¥ç¦ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆClaude APIç”Ÿæˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€é”æˆæ™‚confettiï¼‰
  â”œâ”€â”€ user-items-section.tsx   # [Client] ãƒã‚¤ã‚¢ã‚¤ãƒ†ãƒ æŠ˜ã‚ŠãŸãŸã¿ã‚»ã‚¯ã‚·ãƒ§ãƒ³
  â”œâ”€â”€ user-item-card.tsx       # [Client] ã‚¢ã‚¤ãƒ†ãƒ ã‚«ãƒ¼ãƒ‰ï¼ˆOGPãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ä»˜ãï¼‰
  â””â”€â”€ user-item-form-dialog.tsx # [Client] ã‚¢ã‚¤ãƒ†ãƒ è¿½åŠ ãƒ»ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°

lib/
  â”œâ”€â”€ supabase/
  â”‚   â”œâ”€â”€ client.ts       # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”¨
  â”‚   â””â”€â”€ server.ts       # ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ/APIç”¨
  â”œâ”€â”€ supabase-storage.ts # Supabase Storageæ“ä½œé–¢æ•°
  â”œâ”€â”€ crop-image.ts       # Canvas APIã§ç”»åƒã‚’åˆ‡ã‚ŠæŠœããƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
  â””â”€â”€ utils.ts            # shadcn/uiç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

types/
  â”œâ”€â”€ database.ts         # Supabaseãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ¼ãƒå‹å®šç¾©
  â”œâ”€â”€ index.ts            # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨å‹å®šç¾©
  â””â”€â”€ storage.ts          # ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é–¢é€£ã®å‹å®šç¾©
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ¸ˆã¿ã®æ©Ÿèƒ½

### èªè¨¼ãƒ•ãƒ­ãƒ¼
1. **middleware.ts**: å…¨ãƒ«ãƒ¼ãƒˆã§èªè¨¼çŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯
   - æœªèªè¨¼ â†’ `/login`ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
   - èªè¨¼æ¸ˆã¿ã§`/login`ã‚¢ã‚¯ã‚»ã‚¹ â†’ `/`ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

2. **ãƒ­ã‚°ã‚¤ãƒ³/ç™»éŒ²**: [components/login-form.tsx](components/login-form.tsx)
   - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ + ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
   - ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—æ™‚ã¯ç¢ºèªãƒ¡ãƒ¼ãƒ«é€ä¿¡
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…æ¸ˆã¿

3. **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†**: Supabase SSRã‚’ä½¿ç”¨
   - Cookieãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³
   - è‡ªå‹•ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥å¯¾å¿œ

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ 

ã‚¹ã‚­ãƒ¼ãƒå®šç¾©: [supabase-schema.sql](supabase-schema.sql)

#### ãƒ†ãƒ¼ãƒ–ãƒ«: profilesï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ï¼‰
```sql
id            UUID PRIMARY KEY (auth.userså‚ç…§)
email         TEXT NOT NULL
username      TEXT NOT NULL
display_name  TEXT          -- æœªè¨­å®šæ™‚ã¯AIãŒè‡ªå‹•ç”Ÿæˆ
avatar_url    TEXT
bio           TEXT
background_url TEXT
goal          TEXT          -- ä»Šã®ç›®æ¨™ï¼ˆãƒã‚¤ãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºï¼‰
ai_prompt     TEXT          -- AIã«è¦šãˆã¦ã»ã—ã„ã“ã¨
ai_tone       TEXT          -- AIã®å£èª¿ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«
created_at    TIMESTAMP
updated_at    TIMESTAMP
```

#### ãƒ†ãƒ¼ãƒ–ãƒ«: activity_logsï¼ˆæ´»å‹•ãƒ­ã‚°/é”æˆãƒ­ã‚°ï¼‰
```sql
id                        UUID PRIMARY KEY
user_id                   UUID (profileså‚ç…§)
category                  activity_category NOT NULL  -- 'workout' | 'study' | 'beauty'
title                     TEXT NOT NULL
content                   TEXT NOT NULL
activity_date             DATE DEFAULT CURRENT_DATE
activity_duration_minutes INTEGER          -- æ´»å‹•æ™‚é–“ï¼ˆåˆ†å˜ä½ï¼‰ã€‚ä»»æ„å…¥åŠ›ã€‚æ´»å‹•ãƒ­ã‚°ã®å ´åˆã®ã¿ä½¿ç”¨
image_url                 TEXT
is_image_private          BOOLEAN DEFAULT FALSE  -- ç”»åƒã®å…¬é–‹/éå…¬é–‹è¨­å®š
log_type                  TEXT NOT NULL DEFAULT 'activity'  -- 'activity' | 'achievement'
ai_message                TEXT          -- AIãŒç”Ÿæˆã—ãŸåŠ±ã¾ã—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆé‡è¤‡é˜²æ­¢ç”¨ã«ä¿å­˜ï¼‰
created_at                TIMESTAMP
updated_at                TIMESTAMP
```

#### ãƒ­ã‚°ã‚¿ã‚¤ãƒ—
| å€¤ | æ—¥æœ¬èª | ã‚¢ã‚¤ã‚³ãƒ³ | èª¬æ˜ |
|---|--------|---------|------|
| `activity` | æ´»å‹•ãƒ­ã‚° | ğŸ“ | æ—¥ã€…ã®æ´»å‹•ã®è¨˜éŒ² |
| `achievement` | é”æˆãƒ­ã‚° | ğŸ† | é”æˆã—ãŸã“ã¨ã®è¨˜éŒ² |

#### ãƒ†ãƒ¼ãƒ–ãƒ«: likesï¼ˆã„ã„ã­ï¼‰
```sql
id              UUID PRIMARY KEY
activity_log_id UUID (activity_logså‚ç…§)
user_id         UUID (profileså‚ç…§)
created_at      TIMESTAMP
UNIQUE(activity_log_id, user_id)  -- åŒã˜æŠ•ç¨¿ã«è¤‡æ•°å›ã„ã„ã­ä¸å¯
```

#### ãƒ†ãƒ¼ãƒ–ãƒ«: commentsï¼ˆã‚³ãƒ¡ãƒ³ãƒˆï¼‰
```sql
id              UUID PRIMARY KEY
activity_log_id UUID (activity_logså‚ç…§)
user_id         UUID (profileså‚ç…§)
content         TEXT NOT NULL
parent_id       UUID (commentså‚ç…§ã€ãƒã‚¹ãƒˆç”¨)
created_at      TIMESTAMP
updated_at      TIMESTAMP
```

#### ãƒ†ãƒ¼ãƒ–ãƒ«: followsï¼ˆãƒ•ã‚©ãƒ­ãƒ¼é–¢ä¿‚ï¼‰
```sql
id            UUID PRIMARY KEY
follower_id   UUID (profileså‚ç…§) NOT NULL
following_id  UUID (profileså‚ç…§) NOT NULL
created_at    TIMESTAMP
UNIQUE(follower_id, following_id)  -- åŒã˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¤‡æ•°å›ãƒ•ã‚©ãƒ­ãƒ¼ä¸å¯
CHECK(follower_id != following_id) -- è‡ªåˆ†è‡ªèº«ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ä¸å¯
```

#### ãƒ†ãƒ¼ãƒ–ãƒ«: user_itemsï¼ˆãƒã‚¤ã‚¢ã‚¤ãƒ†ãƒ ï¼‰
```sql
id            UUID PRIMARY KEY
user_id       UUID (profileså‚ç…§) NOT NULL
product_name  TEXT NOT NULL          -- å•†å“å
product_url   TEXT                   -- å•†å“URLï¼ˆä»»æ„ï¼‰
usage_method  TEXT                   -- ä½¿ç”¨æ–¹æ³•ãƒ»é »åº¦
started_at    TIMESTAMP DEFAULT NOW()  -- åˆ©ç”¨é–‹å§‹æ—¥ï¼ˆè‡ªå‹•è¨­å®šã€ç·¨é›†ä¸å¯ï¼‰
ended_at      TIMESTAMP              -- åˆ©ç”¨åœæ­¢æ—¥ï¼ˆNULL=åˆ©ç”¨ä¸­ã€è¨­å®šå¾Œã¯ç·¨é›†ä¸å¯ï¼‰
created_at    TIMESTAMP
updated_at    TIMESTAMP
```

**RLS**: å…¨å“¡ãŒé–²è¦§å¯èƒ½ã€æœ¬äººã®ã¿ä½œæˆ/æ›´æ–°/å‰Šé™¤å¯èƒ½

**æ©Ÿèƒ½**:
- ãƒã‚¤ãƒšãƒ¼ã‚¸ã«æŠ˜ã‚ŠãŸãŸã¿å¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨ã—ã¦è¡¨ç¤º
- ç™»éŒ²æ™‚ã«è‡ªå‹•ã§ã€Œåˆ©ç”¨é–‹å§‹æ—¥ã€ãŒè¨­å®šã•ã‚Œã‚‹
- ã€Œåˆ©ç”¨åœæ­¢ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§åœæ­¢æ—¥ã‚’è¨˜éŒ²ï¼ˆä¸€åº¦è¨­å®šã™ã‚‹ã¨å¤‰æ›´ä¸å¯ï¼‰
- å•†å“URLãŒã‚ã‚‹å ´åˆã¯OGPãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è‡ªå‹•è¡¨ç¤º
- åˆ©ç”¨ä¸­ã‚¢ã‚¤ãƒ†ãƒ ãŒå„ªå…ˆè¡¨ç¤ºã€åœæ­¢æ¸ˆã¿ã‚¢ã‚¤ãƒ†ãƒ ã¯ä¸‹ã«è¡¨ç¤º

#### ã‚«ãƒ†ã‚´ãƒªï¼ˆENUMå‹ï¼‰
| å€¤ | æ—¥æœ¬èª | ã‚¢ã‚¤ã‚³ãƒ³ | è‰² |
|---|--------|---------|-----|
| `workout` | ç­‹ãƒˆãƒ¬ | ğŸ’ª | ã‚ªãƒ¬ãƒ³ã‚¸ |
| `study` | å‹‰å¼· | ğŸ“š | ãƒ–ãƒ«ãƒ¼ |
| `beauty` | ç¾å®¹ | âœ¨ | ãƒ”ãƒ³ã‚¯ |
| `meal` | é£Ÿäº‹ | ğŸ½ï¸ | ã‚°ãƒªãƒ¼ãƒ³ |
| `work` | ä»•äº‹ | ğŸ’¼ | ãƒ‘ãƒ¼ãƒ—ãƒ« |
| `dev` | é–‹ç™º | ğŸ’» | ãƒ†ã‚£ãƒ¼ãƒ« |

#### RLS (Row Level Security)
- **profiles**: å…¨å“¡ãŒé–²è¦§å¯èƒ½ã€æœ¬äººã®ã¿æ›´æ–°å¯èƒ½
- **activity_logs**: å…¨å“¡ãŒé–²è¦§å¯èƒ½ã€æœ¬äººã®ã¿ä½œæˆ/æ›´æ–°/å‰Šé™¤å¯èƒ½
- **likes**: å…¨å“¡ãŒé–²è¦§å¯èƒ½ã€èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆå¯èƒ½ã€æœ¬äººã®ã¿å‰Šé™¤å¯èƒ½
- **comments**: å…¨å“¡ãŒé–²è¦§å¯èƒ½ã€èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆå¯èƒ½ã€æœ¬äººã®ã¿æ›´æ–°/å‰Šé™¤å¯èƒ½
- **follows**: å…¨å“¡ãŒé–²è¦§å¯èƒ½ã€æœ¬äººã®ã¿ãƒ•ã‚©ãƒ­ãƒ¼ä½œæˆ/å‰Šé™¤å¯èƒ½
- **user_items**: å…¨å“¡ãŒé–²è¦§å¯èƒ½ã€æœ¬äººã®ã¿ä½œæˆ/æ›´æ–°/å‰Šé™¤å¯èƒ½

#### ãƒˆãƒªã‚¬ãƒ¼
- `handle_new_user()`: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ™‚ã«è‡ªå‹•ã§profilesãƒ†ãƒ¼ãƒ–ãƒ«ã«ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ
- `handle_updated_at()`: å„ãƒ†ãƒ¼ãƒ–ãƒ«ã®updated_atã‚’è‡ªå‹•æ›´æ–°

#### ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è‡ªå‹•ä½œæˆ
æŠ•ç¨¿æ™‚ã«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãŒå­˜åœ¨ã—ãªã„å ´åˆã€[activity-log-form.tsx](components/activity-log-form.tsx) ã§è‡ªå‹•ä½œæˆã•ã‚Œã‚‹

### Supabase Storageï¼ˆç”»åƒä¿å­˜ï¼‰

#### ãƒã‚±ãƒƒãƒˆ: activity-images
- **ç”¨é€”**: æ´»å‹•ãƒ­ã‚°ã«æ·»ä»˜ã™ã‚‹ç”»åƒã®ä¿å­˜
- **å…¬é–‹è¨­å®š**: Publicï¼ˆç”»åƒURLã§ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼‰
- **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—SQL**: [supabase-storage-setup.sql](supabase-storage-setup.sql)

#### Storageãƒãƒªã‚·ãƒ¼
| æ“ä½œ | è¨±å¯å¯¾è±¡ | æ¡ä»¶ |
|------|----------|------|
| INSERT | èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ | è‡ªåˆ†ã®ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ`{user_id}/*` ã¾ãŸã¯ `profiles/{user_id}/*`ï¼‰ |
| SELECT | å…¨å“¡ | - |
| DELETE | èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ | è‡ªåˆ†ã®ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ |
| UPDATE | èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ | è‡ªåˆ†ã®ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ |

**æ³¨æ„**: ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã¯ `profiles/{userId}/{type}-{timestamp}-{random}.{ext}` ãƒ‘ã‚¹ã«ä¿å­˜ã•ã‚Œã‚‹ã€‚æ´»å‹•ãƒ­ã‚°ç”»åƒã¯ `{userId}/{filename}` ãƒ‘ã‚¹ã«ä¿å­˜ã•ã‚Œã‚‹ã€‚

#### ç”»åƒæŠ•ç¨¿æ©Ÿèƒ½

**é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«:**
- [lib/supabase-storage.ts](lib/supabase-storage.ts) - Storageæ“ä½œé–¢æ•°
- [types/storage.ts](types/storage.ts) - å‹å®šç¾©ãƒ»å®šæ•°
- [components/ImageUpload.tsx](components/ImageUpload.tsx) - ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰UI
- [components/ActivityImages.tsx](components/ActivityImages.tsx) - ç”»åƒè¡¨ç¤ºãƒ»ãƒ¢ãƒ¼ãƒ€ãƒ«

**æ©Ÿèƒ½:**
- ç”»åƒå½¢å¼: JPEG, PNG, GIF, WebP
- æœ€å¤§ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: 5MBï¼ˆæ´»å‹•ãƒ­ã‚°ç”»åƒï¼‰/ åˆ¶é™ãªã—ï¼ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã€åœ§ç¸®ã§å¯¾å¿œï¼‰
- æœ€å¤§æšæ•°: 3æš/æŠ•ç¨¿
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´åœ§ç¸®: browser-image-compressionä½¿ç”¨ï¼ˆ1MBä»¥ä¸‹ã€1920pxä»¥ä¸‹ï¼‰
- ç”»åƒURLã¯JSONé…åˆ—ã¨ã—ã¦ `activity_logs.image_url` ã«ä¿å­˜
- **å…¬é–‹/éå…¬é–‹è¨­å®š**: ç”»åƒæ·»ä»˜æ™‚ã«å…¬é–‹ï¼ˆğŸŒï¼‰ã¾ãŸã¯éå…¬é–‹ï¼ˆğŸ”’ï¼‰ã‚’é¸æŠå¯èƒ½
  - éå…¬é–‹ç”»åƒã¯ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯ã€ŒğŸ”’ éå…¬é–‹ã®ç”»åƒãŒNæšã‚ã‚Šã¾ã™ã€ã¨è¡¨ç¤º
  - æŠ•ç¨¿è€…æœ¬äººã«ã¯ç”»åƒãŒè¡¨ç¤ºã•ã‚Œã€ã€Œéå…¬é–‹ï¼ˆä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰ã€ã®ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼è¡¨ç¤º

#### ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒæ©Ÿèƒ½

**é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«:**
- [lib/supabase-storage.ts](lib/supabase-storage.ts) - `uploadProfileImage()` é–¢æ•°
- [components/profile-edit-form.tsx](components/profile-edit-form.tsx) - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
- [components/image-crop-dialog.tsx](components/image-crop-dialog.tsx) - ã‚¯ãƒ­ãƒƒãƒ—ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- [lib/crop-image.ts](lib/crop-image.ts) - Canvas APIã§ç”»åƒåˆ‡ã‚ŠæŠœããƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

**æ©Ÿèƒ½:**
- ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒï¼ˆavatar_urlï¼‰: 1:1ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã§ã‚¯ãƒ­ãƒƒãƒ—ã€å††å½¢è¡¨ç¤º
- èƒŒæ™¯ç”»åƒï¼ˆbackground_urlï¼‰: 40:9ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã§ã‚¯ãƒ­ãƒƒãƒ—ï¼ˆè¡¨ç¤ºé ˜åŸŸã«åˆè‡´ï¼‰
- react-easy-cropã«ã‚ˆã‚‹ãƒ‰ãƒ©ãƒƒã‚°ï¼†ã‚ºãƒ¼ãƒ ã§ã®ã‚¯ãƒ­ãƒƒãƒ—
- åˆ‡ã‚ŠæŠœãå¾Œã«browser-image-compressionã§åœ§ç¸®ï¼ˆ1MBä»¥ä¸‹ï¼‰
- ç”»åƒå¤‰æ›´æ™‚ã¯æ—§ç”»åƒã‚’è‡ªå‹•å‰Šé™¤

**Next.jsç”»åƒæœ€é©åŒ–:**
- [next.config.mjs](next.config.mjs) ã§Supabase Storageãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨±å¯è¨­å®šæ¸ˆã¿

### UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå®Ÿè£…æ¸ˆã¿ï¼š
- **Button** ([components/ui/button.tsx](components/ui/button.tsx))
- **Card** ([components/ui/card.tsx](components/ui/card.tsx))
- **Input** ([components/ui/input.tsx](components/ui/input.tsx))
- **Label** ([components/ui/label.tsx](components/ui/label.tsx))
- **Dialog** ([components/ui/dialog.tsx](components/ui/dialog.tsx)) - ç”»åƒæ‹¡å¤§ãƒ¢ãƒ¼ãƒ€ãƒ«ç”¨

æ–°ã—ã„shadcn/uiã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹å ´åˆï¼š
```bash
npx shadcn@latest add [component-name]
```

## é‡è¦ãªè¨­è¨ˆåˆ¤æ–­

### 1. Server Components vs Client Components
- **ãƒšãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«**: Server Componentsï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒï¼‰
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–**: Client Componentsï¼ˆãƒ•ã‚©ãƒ¼ãƒ ã€ãƒœã‚¿ãƒ³ï¼‰
- [app/page.tsx](app/page.tsx)ã§ãƒ‡ãƒ¼ã‚¿å–å¾— â†’ Propsã§å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™

### 2. Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä½¿ã„åˆ†ã‘
- **Server Components/API**: `lib/supabase/server.ts`
  - Cookieå‡¦ç†ãŒå¿…è¦
  - `await cookies()`ã‚’ä½¿ç”¨ï¼ˆNext.js 15å¯¾å¿œï¼‰
- **Client Components**: `lib/supabase/client.ts`
  - ãƒ–ãƒ©ã‚¦ã‚¶ã§å®Ÿè¡Œ
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã«ä½¿ç”¨

### 3. èªè¨¼ãƒ•ãƒ­ãƒ¼
- ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§å…¨ä½“çš„ãªèªè¨¼ãƒã‚§ãƒƒã‚¯
- å„ãƒšãƒ¼ã‚¸ã§å€‹åˆ¥ã®æ¨©é™ãƒã‚§ãƒƒã‚¯ã¯ä¸è¦ï¼ˆãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§ä¿è¨¼ï¼‰

## é–‹ç™ºæ™‚ã®æ³¨æ„ç‚¹

### ç’°å¢ƒå¤‰æ•°
ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ãŒå¿…é ˆï¼š
```env
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
```

**æ³¨æ„**: `NEXT_PUBLIC_`ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã‚‚ä½¿ç”¨å¯èƒ½ã«ã™ã‚‹

### Supabaseã®åˆæœŸè¨­å®šãŒå¿…è¦
ã‚¢ãƒ—ãƒªã‚’å‹•ä½œã•ã›ã‚‹å‰ã«ä»¥ä¸‹ã‚’å®Ÿæ–½ï¼š
1. Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
2. SQLå®Ÿè¡Œï¼ˆ[README.md](README.md)å‚ç…§ï¼‰
3. ç’°å¢ƒå¤‰æ•°è¨­å®š

### å‹å®‰å…¨æ€§
- [types/database.ts](types/database.ts)ãŒSupabaseã‚¹ã‚­ãƒ¼ãƒã¨ä¸€è‡´ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹
- ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´æ™‚ã¯å‹å®šç¾©ã‚‚æ›´æ–°
- Supabase CLIã§è‡ªå‹•ç”Ÿæˆã‚‚å¯èƒ½ï¼š
  ```bash
  npx supabase gen types typescript --project-id [project-id] > types/database.ts
  ```

## ã‚ˆãã‚ã‚‹å•é¡Œã¨ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 1. "Invalid API key"ã‚¨ãƒ©ãƒ¼
- `.env.local`ã®ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª
- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ï¼ˆç’°å¢ƒå¤‰æ•°å¤‰æ›´å¾Œã¯å¿…é ˆï¼‰

### 2. æŠ•ç¨¿ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œãªã„
- Supabaseã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- RLSãƒãƒªã‚·ãƒ¼ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒ–ãƒ©ã‚¦ã‚¶ã®Consoleã§ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯

### 3. ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œãªã„
- [middleware.ts](middleware.ts)ã®`matcher`è¨­å®šã‚’ç¢ºèª
- CookieãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### 4. å‹ã‚¨ãƒ©ãƒ¼: "Type instantiation is excessively deep"
- TypeScriptã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªï¼ˆ5.0ä»¥ä¸Šæ¨å¥¨ï¼‰
- `tsconfig.json`ã§`skipLibCheck: true`ã‚’è¨­å®š

## æ¬¡ã®é–‹ç™ºã‚¹ãƒ†ãƒƒãƒ—

### å„ªå…ˆåº¦: é«˜
1. ~~**ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†æ©Ÿèƒ½**~~ âœ… å®Ÿè£…æ¸ˆã¿
   - `/profile/edit`ãƒšãƒ¼ã‚¸ä½œæˆ
   - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåãƒ»è‡ªå·±ç´¹ä»‹æ–‡ãƒ»ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒãƒ»èƒŒæ™¯ç”»åƒã®è¨­å®š
   - ç”»åƒã‚¯ãƒ­ãƒƒãƒ—ï¼ˆåˆ‡ã‚ŠæŠœãï¼‰æ©Ÿèƒ½ä»˜ã
   - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®éå…¬é–‹åŒ–

2. ~~**æŠ•ç¨¿ã®ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½**~~ âœ… å®Ÿè£…æ¸ˆã¿
   - æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ã«ã€Œâ‹¯ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³è¿½åŠ ï¼ˆæœ¬äººã®ã¿è¡¨ç¤ºï¼‰
   - ç·¨é›†: ã‚«ãƒ†ã‚´ãƒªãƒ»å†…å®¹ãƒ»ç”»åƒã®å¤‰æ›´ã€ã€Œï¼ˆæ›´æ–°ï¼‰ã€è¡¨ç¤º
   - å‰Šé™¤: ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä»˜ãã€ã‚³ãƒ¡ãƒ³ãƒˆãƒ»ã„ã„ã­ã‚‚ä¸€ç·’ã«å‰Šé™¤

3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ”¹å–„**
   - ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã®å®Ÿè£…ï¼ˆsonneræ¨å¥¨ï¼‰
   - ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ã®è¿½åŠ 

### å„ªå…ˆåº¦: ä¸­
4. ~~**ã„ã„ã­æ©Ÿèƒ½**~~ âœ… å®Ÿè£…æ¸ˆã¿
   - `likes`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
   - æ¥½è¦³çš„UIæ›´æ–°

5. ~~**ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½**~~ âœ… å®Ÿè£…æ¸ˆã¿
   - `comments`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
   - ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿ãƒ»å‰Šé™¤æ©Ÿèƒ½

6. ~~**ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«**~~ âœ… å®Ÿè£…æ¸ˆã¿
   - Intersection Observerä½¿ç”¨
   - ã‚«ãƒ¼ã‚½ãƒ«ãƒ™ãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
   - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆReact.memoã€æ¥½è¦³çš„æ›´æ–°ï¼‰

### å„ªå…ˆåº¦: ä½
7. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**
   - Supabase Realtimeä½¿ç”¨
   - æ–°è¦æŠ•ç¨¿ã®è‡ªå‹•è¡¨ç¤º

8. ~~**ãƒ•ã‚©ãƒ­ãƒ¼æ©Ÿèƒ½**~~ âœ… å®Ÿè£…æ¸ˆã¿
   - `follows`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
   - ãƒ•ã‚©ãƒ­ãƒ¼/ãƒ•ã‚©ãƒ­ãƒ¼è§£é™¤ãƒœã‚¿ãƒ³
   - ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆï¼ˆå…¨æŠ•ç¨¿/ãƒ•ã‚©ãƒ­ãƒ¼ä¸­ï¼‰
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚¤ãƒšãƒ¼ã‚¸ï¼ˆ`/users/[id]`ï¼‰
   - ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ãƒ»ãƒ•ã‚©ãƒ­ãƒ¼ä¸­æ•°ã®è¡¨ç¤º

9. **æ¤œç´¢æ©Ÿèƒ½**
   - æŠ•ç¨¿ã®å…¨æ–‡æ¤œç´¢
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒæ‹¡å¼µæ¡ˆ

### follows ãƒ†ãƒ¼ãƒ–ãƒ« âœ… å®Ÿè£…æ¸ˆã¿
- ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«: [supabase-follows-setup.sql](supabase-follows-setup.sql)
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260204225531_add_follows_table.sql`

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®ãƒ’ãƒ³ãƒˆ

1. **ç”»åƒæœ€é©åŒ–**: Next.jsã®`<Image>`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨
2. **ãƒ«ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°**: Server Componentsã¯è‡ªå‹•ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹
3. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: ã‚ˆãæ¤œç´¢ã™ã‚‹ã‚«ãƒ©ãƒ ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ 
4. **Supabaseã‚¯ã‚¨ãƒªæœ€é©åŒ–**: å¿…è¦ãªã‚«ãƒ©ãƒ ã®ã¿select

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] RLSæœ‰åŠ¹åŒ–
- [x] ç’°å¢ƒå¤‰æ•°ã¯`.env.local`ï¼ˆGitã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ï¼‰
- [x] XSSå¯¾ç­–ï¼ˆReactã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä¿è­·ï¼‰
- [x] CSRFå¯¾ç­–ï¼ˆSupabaseã®çµ„ã¿è¾¼ã¿ä¿è­·ï¼‰
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆå°†æ¥å®Ÿè£…äºˆå®šï¼‰
- [ ] å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¼·åŒ–ï¼ˆå°†æ¥å®Ÿè£…äºˆå®šï¼‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šæƒ…å ±

### GitHubãƒªãƒã‚¸ãƒˆãƒª
- **ãƒªãƒã‚¸ãƒˆãƒªURL**: https://github.com/nagi-whoray/activity-log-sns
- **ã‚ªãƒ¼ãƒŠãƒ¼**: nagi-whoray
- **åˆå›ã‚³ãƒŸãƒƒãƒˆ**: 2026-02-04
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ©ãƒ³ãƒ**: main

### Supabaseè¨­å®š
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆURL**: `https://eryskzojvhzffszreycd.supabase.co`
- **ãƒªãƒ¼ã‚¸ãƒ§ãƒ³**: Northeast Asia (Tokyo)
- **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†æ—¥**: 2026-02-03

### ç’°å¢ƒå¤‰æ•°
ç’°å¢ƒå¤‰æ•°ã¯ [.env.local](.env.local) ã«è¨­å®šæ¸ˆã¿ï¼š
```env
NEXT_PUBLIC_SUPABASE_URL=https://eryskzojvhzffszreycd.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=<è¨­å®šæ¸ˆã¿>
```

**é‡è¦**: `.env.local`ã¯Gitã«ã‚³ãƒŸãƒƒãƒˆã•ã‚Œã¾ã›ã‚“ï¼ˆ`.gitignore`ã§é™¤å¤–æ¸ˆã¿ï¼‰

## ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### Vercelãƒ‡ãƒ—ãƒ­ã‚¤ âœ… å®Œäº†
- **æœ¬ç•ªURL**: https://activity-log-sns.vercel.app ï¼ˆå…¬é–‹ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼‰
- **ãƒ‡ãƒ—ãƒ­ã‚¤æ—¥**: 2026-02-06
- **è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**: GitHub mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ã«è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

#### æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰
```bash
# ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤
vercel

# æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
vercel --prod
```

#### ç’°å¢ƒå¤‰æ•°ï¼ˆVercelå´ã§è¨­å®šæ¸ˆã¿ï¼‰
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`

#### Supabaseèªè¨¼URLè¨­å®š
Supabaseãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > Authentication > URL Configuration ã§è¨­å®š:
- **Site URL**: `https://activity-log-sns.vercel.app`
- **Redirect URLs**:
  - `https://activity-log-sns.vercel.app/auth/callback` ï¼ˆæœ¬ç•ªç”¨ï¼‰
  - `http://localhost:3000/auth/callback` ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨ï¼‰

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [x] æœ¬ç•ªç’°å¢ƒç”¨ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
- [x] ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆ`npm run build`ï¼‰
- [x] Supabase RLSãŒæœ‰åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- [x] `.env.local`ãŒ`.gitignore`ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼ã®å®Ÿè£…ï¼ˆæ¨å¥¨ï¼‰

### ãã®ä»–ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- **Netlify**: åŒæ§˜ã«GitHubé€£æºå¯èƒ½
- **AWS Amplify**: AWSã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ä½¿ç”¨æ™‚
- **è‡ªå·±ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**: `npm run build && npm start`

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å±¥æ­´

### åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (2026-02-03)
1. âœ… Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
2. âœ… ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ`.env.local`ï¼‰
3. âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
   - ä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«: [supabase-setup.sql](supabase-setup.sql)
   - ä½œæˆãƒ†ãƒ¼ãƒ–ãƒ«: `profiles`, `posts`
   - RLSãƒãƒªã‚·ãƒ¼è¨­å®šå®Œäº†
   - ãƒˆãƒªã‚¬ãƒ¼è¨­å®šå®Œäº†ï¼ˆæ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªå‹•ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä½œæˆï¼‰
   - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆå®Œäº†ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼‰
4. âœ… å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèªï¼ˆ[types/database.ts](types/database.ts)ã€[types/index.ts](types/index.ts)ï¼‰
5. âœ… é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ç¢ºèª

### GitHubãƒªãƒã‚¸ãƒˆãƒªä½œæˆ (2026-02-04)
1. âœ… GitHub CLI (gh) ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. âœ… GitHubèªè¨¼å®Œäº†ï¼ˆnagi-whorayã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼‰
3. âœ… GitHubãƒªãƒã‚¸ãƒˆãƒªä½œæˆï¼ˆpublicï¼‰
4. âœ… åˆå›ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥å®Œäº†
   - ã‚³ãƒŸãƒƒãƒˆID: `29366ec`
   - 26ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ï¼ˆ1,751è¡Œè¿½åŠ ã€143è¡Œå‰Šé™¤ï¼‰
   - ä¸»ãªå†…å®¹ï¼š
     - Supabaseèªè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
     - æŠ•ç¨¿æ©Ÿèƒ½å®Ÿè£…ï¼ˆä½œæˆãƒ»ä¸€è¦§è¡¨ç¤ºï¼‰
     - shadcn/ui UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
     - èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
     - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ

### æ´»å‹•ãƒ­ã‚°æ©Ÿèƒ½æ‹¡å¼µ (2026-02-04)
1. âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå†è¨­è¨ˆ
   - ä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«: [supabase-schema.sql](supabase-schema.sql)
   - `posts` â†’ `activity_logs` ã«å¤‰æ›´
   - ã‚«ãƒ†ã‚´ãƒªï¼ˆç­‹ãƒˆãƒ¬/å‹‰å¼·/ç¾å®¹ï¼‰ã€ã‚¿ã‚¤ãƒˆãƒ«ã€æ´»å‹•æ—¥ã‚’è¿½åŠ 
   - `likes` ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
   - `comments` ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
2. âœ… æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ åˆ·æ–°
   - [activity-log-form.tsx](components/activity-log-form.tsx)
   - ã‚«ãƒ†ã‚´ãƒªé¸æŠUIã€ã‚¿ã‚¤ãƒˆãƒ«å…¥åŠ›ã€æ—¥ä»˜é¸æŠ
   - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è‡ªå‹•ä½œæˆæ©Ÿèƒ½
3. âœ… ã„ã„ã­æ©Ÿèƒ½å®Ÿè£…
   - [activity-log-list.tsx](components/activity-log-list.tsx) å†… `LikeButton`
   - æ¥½è¦³çš„UIæ›´æ–°
4. âœ… ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½å®Ÿè£…
   - [comment-section.tsx](components/comment-section.tsx)
   - ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿ãƒ»å‰Šé™¤
5. âœ… GitHubãƒ—ãƒƒã‚·ãƒ¥å®Œäº†
   - ã‚³ãƒŸãƒƒãƒˆID: `216badd`

### ç”»åƒæŠ•ç¨¿æ©Ÿèƒ½è¿½åŠ  (2026-02-04)
1. âœ… ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   - `browser-image-compression` - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ç”»åƒåœ§ç¸®
   - `@radix-ui/react-dialog` - ç”»åƒæ‹¡å¤§ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆshadcn/ui dialogï¼‰
2. âœ… Supabase Storageè¨­å®š
   - Supabase CLI (`brew install supabase/tap/supabase`)
   - `activity-images` ãƒã‚±ãƒƒãƒˆä½œæˆ
   - RLSãƒãƒªã‚·ãƒ¼è¨­å®š
   - ä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«: [supabase-storage-setup.sql](supabase-storage-setup.sql)
3. âœ… Storageæ“ä½œé–¢æ•°ä½œæˆ
   - [lib/supabase-storage.ts](lib/supabase-storage.ts)
   - `uploadActivityImage()`, `deleteActivityImage()`, `uploadMultipleImages()`
4. âœ… ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
   - [components/ImageUpload.tsx](components/ImageUpload.tsx)
   - ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€åœ§ç¸®ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
5. âœ… æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ã«çµ±åˆ
   - [activity-log-form.tsx](components/activity-log-form.tsx) æ›´æ–°
   - ç”»åƒã¯ä»»æ„ã€æœ€å¤§3æš
6. âœ… ç”»åƒè¡¨ç¤ºæ©Ÿèƒ½
   - [components/ActivityImages.tsx](components/ActivityImages.tsx)
   - Next.js Imageæœ€é©åŒ–ã€é…å»¶èª­ã¿è¾¼ã¿ã€ã‚¯ãƒªãƒƒã‚¯ã§æ‹¡å¤§ãƒ¢ãƒ¼ãƒ€ãƒ«
   - [next.config.mjs](next.config.mjs) ã§Supabaseãƒ‰ãƒ¡ã‚¤ãƒ³è¨±å¯
7. âœ… GitHubãƒ—ãƒƒã‚·ãƒ¥å®Œäº†
   - ã‚³ãƒŸãƒƒãƒˆID: `9e53a33`
   - 21ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ï¼ˆ1,418è¡Œè¿½åŠ ï¼‰

### ãƒ•ã‚©ãƒ­ãƒ¼æ©Ÿèƒ½ãƒ»ãƒã‚¤ãƒšãƒ¼ã‚¸ãƒ»ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¿½åŠ  (2026-02-05)
1. âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ‹¡å¼µ
   - `follows` ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ ï¼ˆRLSãƒãƒªã‚·ãƒ¼ãƒ»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å«ã‚€ï¼‰
   - ä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«: [supabase-follows-setup.sql](supabase-follows-setup.sql)
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase db push` ã§é©ç”¨æ¸ˆã¿
2. âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚¤ãƒšãƒ¼ã‚¸ä½œæˆ
   - [app/users/[id]/page.tsx](app/users/[id]/page.tsx)
   - [components/user-profile-header.tsx](components/user-profile-header.tsx)
   - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã€æŠ•ç¨¿ä¸€è¦§ã€ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ãƒ»ãƒ•ã‚©ãƒ­ãƒ¼ä¸­æ•°è¡¨ç¤º
3. âœ… ãƒ•ã‚©ãƒ­ãƒ¼æ©Ÿèƒ½å®Ÿè£…
   - [components/follow-button.tsx](components/follow-button.tsx) - ãƒ•ã‚©ãƒ­ãƒ¼/ãƒ•ã‚©ãƒ­ãƒ¼è§£é™¤ãƒœã‚¿ãƒ³
   - æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ãƒ»ãƒã‚¤ãƒšãƒ¼ã‚¸ä¸¡æ–¹ã«ãƒ•ã‚©ãƒ­ãƒ¼ãƒœã‚¿ãƒ³é…ç½®
   - æ¥½è¦³çš„UIæ›´æ–°ï¼ˆLikeButtonã¨åŒãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
4. âœ… ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
   - [components/timeline-tabs.tsx](components/timeline-tabs.tsx) - ã€Œå…¨ã¦ã®æŠ•ç¨¿ã€/ã€Œãƒ•ã‚©ãƒ­ãƒ¼ä¸­ã€ã‚¿ãƒ–
   - [app/page.tsx](app/page.tsx) - `?tab=following` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã‚‹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
5. âœ… ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ”¹å–„
   - ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã€Œã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã€ã€Œãƒã‚¤ãƒšãƒ¼ã‚¸ã€ãƒœã‚¿ãƒ³è¿½åŠ 
   - æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ»ã‚¢ãƒã‚¿ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã§ãƒã‚¤ãƒšãƒ¼ã‚¸ã¸é·ç§»
6. âœ… å‹å®šç¾©æ›´æ–°
   - [types/database.ts](types/database.ts) - `follows` ãƒ†ãƒ¼ãƒ–ãƒ«å‹è¿½åŠ 
   - [types/index.ts](types/index.ts) - `Follow` å‹ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¿½åŠ 

### ãƒã‚¤ãƒšãƒ¼ã‚¸æŠ•ç¨¿ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¿½åŠ  (2026-02-06)
1. âœ… æŠ•ç¨¿ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
   - [components/activity-calendar.tsx](components/activity-calendar.tsx) - Client Component
   - æœˆé–“ã‚°ãƒªãƒƒãƒ‰ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼ˆæ—¥ã€œåœŸã®7åˆ—ï¼‰
   - å‰æœˆ/æ¬¡æœˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆlucide-react ChevronLeft/ChevronRightï¼‰
   - æŠ•ç¨¿ãŒã‚ã‚‹æ—¥ã‚’é’ã„èƒŒæ™¯ãƒ»æ ç·šã§ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
   - ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®è‰²ä»˜ããƒ‰ãƒƒãƒˆè¡¨ç¤ºï¼ˆç­‹ãƒˆãƒ¬=ã‚ªãƒ¬ãƒ³ã‚¸ã€å‹‰å¼·=ãƒ–ãƒ«ãƒ¼ã€ç¾å®¹=ãƒ”ãƒ³ã‚¯ï¼‰
   - ä»Šæ—¥ã®æ—¥ä»˜ã¯å¤ªå­—ï¼‹æ ç·šã§å¼·èª¿
   - å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸ä½¿ç”¨ï¼ˆTailwind CSS + shadcn/ui Cardã®ã¿ï¼‰
2. âœ… æ—¥ä»˜ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
   - [app/users/[id]/page.tsx](app/users/[id]/page.tsx) - `searchParams.date` ã«ã‚ˆã‚‹æŠ•ç¨¿ãƒ•ã‚£ãƒ«ã‚¿
   - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®æ—¥ä»˜ã‚¯ãƒªãƒƒã‚¯ã§ `?date=YYYY-MM-DD` ã‚’URLã«è¿½åŠ 
   - åŒã˜æ—¥ä»˜ã‚’å†ã‚¯ãƒªãƒƒã‚¯ or âœ•ãƒœã‚¿ãƒ³ã§ãƒ•ã‚£ãƒ«ã‚¿è§£é™¤
   - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç”¨ã®å…¨æŠ•ç¨¿æ—¥ãƒ»ã‚«ãƒ†ã‚´ãƒªã¯è»½é‡ã‚¯ã‚¨ãƒªã§åˆ¥é€”å–å¾—ï¼ˆ50ä»¶åˆ¶é™ã®å½±éŸ¿ã‚’å—ã‘ãªã„ï¼‰
3. âœ… é…ç½®: UserProfileHeaderã¨ActivityLogListã®é–“

### æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ æ”¹å–„ (2026-02-06)
1. âœ… ã‚¿ã‚¤ãƒˆãƒ«æ¬„ã®å‰Šé™¤
   - [components/activity-log-form.tsx](components/activity-log-form.tsx) - `title`ã®stateãƒ»å…¥åŠ›æ¬„ã‚’å‰Šé™¤
   - [components/activity-log-list.tsx](components/activity-log-list.tsx) - ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤ºï¼ˆ`<h3>`ï¼‰ã‚’å‰Šé™¤
   - DBã®NOT NULLåˆ¶ç´„ç¶­æŒã®ãŸã‚ `title: ''` ã‚’é€ä¿¡
2. âœ… æ´»å‹•æ—¥ã®å…¥åŠ›ã‚’ã€Œä»Šæ—¥ã€ã€Œæ˜¨æ—¥ã€ã®é¸æŠãƒªã‚¹ãƒˆã«å¤‰æ›´
   - [components/activity-log-form.tsx](components/activity-log-form.tsx) - `<input type="date">` â†’ `<select>` ã«å¤‰æ›´
   - é¸æŠè‚¢: ã€Œä»Šæ—¥ï¼ˆYYYY/MM/DDï¼‰ã€ã€Œæ˜¨æ—¥ï¼ˆYYYY/MM/DDï¼‰ã€
   - `toISOString()`ï¼ˆUTCï¼‰â†’ ãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¯¾å¿œã®`toLocalDateString()`ãƒ˜ãƒ«ãƒ‘ãƒ¼ã§æ—¥ä»˜ãšã‚Œã‚’ä¿®æ­£

### ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ãƒ»ç”»åƒã‚¯ãƒ­ãƒƒãƒ—æ©Ÿèƒ½è¿½åŠ  (2026-02-05)
1. âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ‹¡å¼µ
   - `profiles`ãƒ†ãƒ¼ãƒ–ãƒ«ã«`background_url`ã‚«ãƒ©ãƒ è¿½åŠ 
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260205053201_add_background_url_to_profiles.sql`
   - Storageãƒãƒªã‚·ãƒ¼æ›´æ–°ï¼ˆ`profiles/{userId}/*`ãƒ‘ã‚¹ã‚’è¨±å¯ï¼‰
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260205055335_add_profile_images_storage_policy.sql`
2. âœ… ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   - `react-easy-crop` - ç”»åƒã‚¯ãƒ­ãƒƒãƒ—UI
3. âœ… ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ãƒšãƒ¼ã‚¸ä½œæˆ
   - [app/profile/edit/page.tsx](app/profile/edit/page.tsx) - ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
   - [components/profile-edit-form.tsx](components/profile-edit-form.tsx) - ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
   - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåãƒ»è‡ªå·±ç´¹ä»‹æ–‡ãƒ»ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒãƒ»èƒŒæ™¯ç”»åƒã®è¨­å®š
4. âœ… ç”»åƒã‚¯ãƒ­ãƒƒãƒ—æ©Ÿèƒ½å®Ÿè£…
   - [components/image-crop-dialog.tsx](components/image-crop-dialog.tsx) - ã‚¯ãƒ­ãƒƒãƒ—ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
   - [lib/crop-image.ts](lib/crop-image.ts) - Canvas APIãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
   - ã‚¢ã‚¤ã‚³ãƒ³: 1:1ã€èƒŒæ™¯: 40:9 ã®ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”
5. âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼æ”¹ä¿®
   - [components/user-profile-header.tsx](components/user-profile-header.tsx)
   - èƒŒæ™¯ç”»åƒè¡¨ç¤ºã€å®Ÿéš›ã®ã‚¢ãƒã‚¿ãƒ¼ç”»åƒè¡¨ç¤ºå¯¾å¿œ
   - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ãƒœã‚¿ãƒ³é…ç½®
6. âœ… ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹éå…¬é–‹åŒ–
   - ãƒ˜ãƒƒãƒ€ãƒ¼ã«ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ä»£ã‚ã‚Šã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’è¡¨ç¤º
7. âœ… ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã®ã‚¢ãƒã‚¿ãƒ¼ç”»åƒè¡¨ç¤ºä¿®æ­£
   - [components/activity-log-list.tsx](components/activity-log-list.tsx)
   - `avatar_url`ãŒã‚ã‚‹å ´åˆã¯å®Ÿç”»åƒã‚’è¡¨ç¤º

### Vercelãƒ‡ãƒ—ãƒ­ã‚¤ (2026-02-06)
1. âœ… Vercel CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   - `npm i -g vercel`
2. âœ… Vercelã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆãƒ»ãƒ­ã‚°ã‚¤ãƒ³
   - `vercel login` ã§GitHubèªè¨¼
3. âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸãƒ‡ãƒ—ãƒ­ã‚¤
   - `vercel` ã‚³ãƒãƒ³ãƒ‰ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ³ã‚¯ãƒ»åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤
4. âœ… ç’°å¢ƒå¤‰æ•°è¨­å®š
   - `vercel env add NEXT_PUBLIC_SUPABASE_URL`
   - `vercel env add NEXT_PUBLIC_SUPABASE_ANON_KEY`
5. âœ… æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
   - `vercel --prod` ã§æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
   - æœ¬ç•ªURL: https://activity-log-sns.vercel.app
6. âœ… GitHubè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤é€£æº
   - Vercelãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > Settings > Git ã§GitHubé€£æºè¨­å®š
   - mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
7. âœ… Supabaseèªè¨¼URLè¨­å®š
   - Site URL: `https://activity-log-sns.vercel.app`
   - Redirect URLs: æœ¬ç•ªç”¨ãƒ»ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨ã®ä¸¡æ–¹ã‚’ç™»éŒ²

### ãƒ¢ãƒã‚¤ãƒ«ç”¨ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¿½åŠ  (2026-02-06)
1. âœ… ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
   - [components/header.tsx](components/header.tsx) - ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼å®Ÿè£…
   - ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼ˆ640pxä»¥ä¸Šï¼‰: å¾“æ¥é€šã‚Šã®æ¨ªä¸¦ã³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
   - ãƒ¢ãƒã‚¤ãƒ«ï¼ˆ640pxæœªæº€ï¼‰: ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼å±•é–‹
2. âœ… å®Ÿè£…è©³ç´°
   - `useState`ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼é–‹é–‰çŠ¶æ…‹ç®¡ç†
   - lucide-react `Menu`/`X` ã‚¢ã‚¤ã‚³ãƒ³ä½¿ç”¨
   - Tailwindã® `sm:hidden`/`hidden sm:flex` ã§ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–åˆ‡ã‚Šæ›¿ãˆ
   - ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã‚¯ãƒªãƒƒã‚¯æ™‚ã«è‡ªå‹•ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹

### æŠ•ç¨¿ã®ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½è¿½åŠ  (2026-02-06)
1. âœ… æŠ•ç¨¿ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ
   - [components/post-actions-menu.tsx](components/post-actions-menu.tsx) - ã€Œâ‹¯ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
   - æŠ•ç¨¿ã‚ªãƒ¼ãƒŠãƒ¼ã®ã¿è¡¨ç¤ºï¼ˆç·¨é›†ãƒ»å‰Šé™¤ãƒœã‚¿ãƒ³ï¼‰
2. âœ… æŠ•ç¨¿ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä½œæˆ
   - [components/post-edit-dialog.tsx](components/post-edit-dialog.tsx) - ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«
   - ã‚«ãƒ†ã‚´ãƒªãƒ»å†…å®¹ãƒ»ç”»åƒã®å¤‰æ›´å¯¾å¿œ
   - æ—¢å­˜ç”»åƒã®å‰Šé™¤ãƒ»æ–°è¦ç”»åƒã®è¿½åŠ 
3. âœ… æŠ•ç¨¿ä¸€è¦§ã¸ã®çµ±åˆ
   - [components/activity-log-list.tsx](components/activity-log-list.tsx) - ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½çµ±åˆ
   - æ—¥æ™‚è¡¨ç¤ºã®æ”¹å–„: æ´»å‹•æ—¥ã€æŠ•ç¨¿æ—¥æ™‚ã€æ›´æ–°æ—¥æ™‚ã‚’3è¡Œã§è¡¨ç¤º
   - 1è¡Œç›®: æ´»å‹•æ—¥ï¼ˆ2026å¹´2æœˆ6æ—¥ï¼‰
   - 2è¡Œç›®: `æŠ•ç¨¿ yyyy/MM/dd HH:mm`
   - 3è¡Œç›®: `æ›´æ–° yyyy/MM/dd HH:mm`ï¼ˆç·¨é›†æ¸ˆã¿ã®å ´åˆã®ã¿ï¼‰
4. âœ… Storageé–¢æ•°ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
   - [lib/supabase-storage.ts](lib/supabase-storage.ts) - `extractPathFromUrl()`ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
5. âœ… å‰Šé™¤æ™‚ã®å‹•ä½œ
   - ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
   - CASCADE: ç´ã¥ãã‚³ãƒ¡ãƒ³ãƒˆãƒ»ã„ã„ã­ã‚‚è‡ªå‹•å‰Šé™¤
   - Storage: æ·»ä»˜ç”»åƒã‚‚å‰Šé™¤

### ãƒ¢ãƒã‚¤ãƒ«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£ (2026-02-06)
1. âœ… æŠ•ç¨¿ä¸€è¦§ã®ã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸æŠ˜ã‚Šè¿”ã—ä¿®æ­£
   - [components/activity-log-list.tsx](components/activity-log-list.tsx) - ã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸ã«ã‚¹ã‚¿ã‚¤ãƒ«è¿½åŠ 
   - `whitespace-nowrap` - ãƒ†ã‚­ã‚¹ãƒˆã®æŠ˜ã‚Šè¿”ã—ã‚’é˜²æ­¢
   - `shrink-0` - ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹ãƒœãƒƒã‚¯ã‚¹å†…ã§ã®ç¸®å°ã‚’é˜²æ­¢
2. âœ… æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ä¿®æ­£
   - å·¦å´ã‚³ãƒ³ãƒ†ãƒŠ: `min-w-0 flex-1` ã§ç¸®å°å¯èƒ½ã«
   - å³å´ã‚³ãƒ³ãƒ†ãƒŠ: `shrink-0` ã§ç¸®å°ã—ãªã„
   - æ—¥æ™‚è¡¨ç¤º: `truncate` ã§é•·ã„å ´åˆã¯çœç•¥
2. âœ… æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚«ãƒ†ã‚´ãƒªãƒœã‚¿ãƒ³æŠ˜ã‚Šè¿”ã—ä¿®æ­£
   - [components/activity-log-form.tsx](components/activity-log-form.tsx) - ã‚«ãƒ†ã‚´ãƒªé¸æŠãƒœã‚¿ãƒ³ã«ã‚¹ã‚¿ã‚¤ãƒ«è¿½åŠ 
   - `whitespace-nowrap` - ãƒ†ã‚­ã‚¹ãƒˆã®æŠ˜ã‚Šè¿”ã—ã‚’é˜²æ­¢
   - `px-2 sm:px-3` - ãƒ¢ãƒã‚¤ãƒ«ã§ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’ç¸®å°
   - `text-base sm:text-lg` / `text-xs sm:text-sm` - ãƒ¢ãƒã‚¤ãƒ«ã§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’ç¸®å°
   - ä¿®æ­£å‰: ã€Œç­‹ãƒˆãƒ¬ã€ãŒã€Œç­‹ãƒˆã€ã€Œãƒ¬ã€ã«åˆ†ã‹ã‚Œã¦è¡¨ç¤ºã•ã‚Œã‚‹å•é¡Œ

### é”æˆãƒ­ã‚°æ©Ÿèƒ½ãƒ»2æ®µéšãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°è¿½åŠ  (2026-02-06)
1. âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ‹¡å¼µ
   - `activity_logs`ãƒ†ãƒ¼ãƒ–ãƒ«ã«`log_type`ã‚«ãƒ©ãƒ è¿½åŠ ï¼ˆ'activity' | 'achievement'ï¼‰
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260206090000_add_log_type_to_activity_logs.sql`
   - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ ï¼ˆ`log_type`, `log_type + created_at`ï¼‰
2. âœ… å‹å®šç¾©æ›´æ–°
   - [types/database.ts](types/database.ts) - `LogType`å‹ã€`LOG_TYPE_LABELS`è¿½åŠ 
3. âœ… æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ æ‹¡å¼µ
   - [components/activity-log-form.tsx](components/activity-log-form.tsx)
   - ãƒ­ã‚°ã‚¿ã‚¤ãƒ—é¸æŠUIè¿½åŠ ï¼ˆğŸ“æ´»å‹•ãƒ­ã‚° / ğŸ†é”æˆãƒ­ã‚°ï¼‰
   - é”æˆãƒ­ã‚°é¸æŠæ™‚: ã€Œæ´»å‹•æ—¥ã€â†’ã€Œé”æˆæ—¥ã€ã€ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å¤‰æ›´
4. âœ… ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³2æ®µéšãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
   - [components/timeline-tabs.tsx](components/timeline-tabs.tsx) - 4ã‚¿ãƒ– + ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿
   - ç¬¬1æ®µéšï¼ˆã‚¿ãƒ–ï¼‰: å…¨éƒ¨ / æ´»å‹•ãƒ­ã‚° / é”æˆãƒ­ã‚° / ãƒ•ã‚©ãƒ­ãƒ¼ä¸­
   - ç¬¬2æ®µéšï¼ˆãƒœã‚¿ãƒ³ï¼‰: å…¨ã¦ / ğŸ’ªç­‹ãƒˆãƒ¬ / ğŸ“šå‹‰å¼· / âœ¨ç¾å®¹
   - URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: `?tab=activity&category=workout`
5. âœ… æŠ•ç¨¿ãƒªã‚¹ãƒˆæ›´æ–°
   - [components/activity-log-list.tsx](components/activity-log-list.tsx)
   - é”æˆãƒ­ã‚°ã®è¦–è¦šçš„åŒºåˆ¥ï¼ˆğŸ†ãƒãƒƒã‚¸ã€é‡‘è‰²ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ï¼‰
   - ã‚¿ãƒ–ãƒ»ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ç©ºçŠ¶æ…‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

### ãƒã‚¤ãƒšãƒ¼ã‚¸ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ»ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é‡‘è‰²ãƒã‚¤ãƒ©ã‚¤ãƒˆè¿½åŠ  (2026-02-06)
1. âœ… ãƒã‚¤ãƒšãƒ¼ã‚¸2æ®µéšãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
   - [app/users/[id]/page.tsx](app/users/[id]/page.tsx) - ã‚¿ãƒ–ãƒ»ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿è¿½åŠ 
   - [components/timeline-tabs.tsx](components/timeline-tabs.tsx) - `showFollowingTab` propsè¿½åŠ 
   - ãƒã‚¤ãƒšãƒ¼ã‚¸: 3ã‚¿ãƒ–ï¼ˆå…¨éƒ¨ / æ´»å‹•ãƒ­ã‚° / é”æˆãƒ­ã‚°ï¼‰â€»ãƒ•ã‚©ãƒ­ãƒ¼ä¸­ãªã—
   - ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸: 4ã‚¿ãƒ–ï¼ˆå¾“æ¥é€šã‚Šï¼‰
2. âœ… ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é”æˆãƒ­ã‚°é‡‘è‰²ãƒã‚¤ãƒ©ã‚¤ãƒˆ
   - [components/activity-calendar.tsx](components/activity-calendar.tsx) - å‹å®šç¾©ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´
   - `activityDateMap` å‹: `Record<string, { categories: string[], hasAchievement: boolean }>`
   - é”æˆãƒ­ã‚°ãŒã‚ã‚‹æ—¥: é‡‘è‰²ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆ`bg-amber-50`, `ring-amber-200`ï¼‰
   - æ´»å‹•ãƒ­ã‚°ã®ã¿ã®æ—¥: é’è‰²ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆå¾“æ¥é€šã‚Šï¼‰

### Claude APIã«ã‚ˆã‚‹å‹•çš„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ (2026-02-06)
1. âœ… ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   - `@anthropic-ai/sdk` - Anthropic Claude API SDK
   - `canvas-confetti` - ç´™å¹é›ªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
2. âœ… APIãƒ«ãƒ¼ãƒˆä½œæˆ
   - [app/api/generate-message/route.ts](app/api/generate-message/route.ts)
   - ãƒ¢ãƒ‡ãƒ«: `claude-3-haiku-20240307`ï¼ˆé«˜é€Ÿãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”¨ï¼‰
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®éå»ã®æ´»å‹•å±¥æ­´ã‚’å…ƒã«ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ
   - é€£ç¶šæ´»å‹•æ—¥æ•°ï¼ˆstreakï¼‰ã€æ´»å‹•/é”æˆå›æ•°ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å«ã‚ã‚‹
3. âœ… æ¿€åŠ±/ç¥ç¦ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
   - [components/encouragement-modal.tsx](components/encouragement-modal.tsx)
   - æ´»å‹•ãƒ­ã‚°: ã€ŒğŸ’ª ãŠç–²ã‚Œã•ã¾ã§ã™ï¼ã€+ å‹•çš„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   - é”æˆãƒ­ã‚°: ã€ŒğŸ† é”æˆãŠã‚ã§ã¨ã†ï¼ã€+ å‹•çš„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ + ç´™å¹é›ªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
   - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆä¸­ã¯ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆä¸­...ã€è¡¨ç¤º
   - APIå¤±æ•—æ™‚ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
4. âœ… ç’°å¢ƒå¤‰æ•°
   - `ANTHROPIC_API_KEY` - Claude APIèªè¨¼ã‚­ãƒ¼ï¼ˆ.env.localã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å°‚ç”¨ï¼‰
   - æœ¬ç•ªç’°å¢ƒ: Vercel Environment Variablesã«è¨­å®šãŒå¿…è¦

### AIãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½è¿½åŠ  (2026-02-07)
1. âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥AIè¨­å®š
   - `profiles`ãƒ†ãƒ¼ãƒ–ãƒ«ã«`ai_prompt`ï¼ˆAIã«è¦šãˆã¦ã»ã—ã„ã“ã¨ï¼‰ã€`ai_tone`ï¼ˆå£èª¿ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ã‚«ãƒ©ãƒ è¿½åŠ 
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260207032732_add_ai_settings_to_profiles.sql`
   - [components/profile-edit-form.tsx](components/profile-edit-form.tsx) - è¨­å®šUIè¿½åŠ 
2. âœ… ç›®æ¨™ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
   - `profiles`ãƒ†ãƒ¼ãƒ–ãƒ«ã«`goal`ã‚«ãƒ©ãƒ è¿½åŠ 
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260207033957_add_goal_to_profiles.sql`
   - [components/user-profile-header.tsx](components/user-profile-header.tsx) - ğŸ¯ç›®æ¨™è¡¨ç¤º
3. âœ… @ãƒ¦ãƒ¼ã‚¶ãƒ¼IDè¡¨ç¤ºã®å‰Šé™¤
   - ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼å¯¾ç­–ï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ¨æ¸¬å¯èƒ½ãªãŸã‚ï¼‰
   - [components/user-profile-header.tsx](components/user-profile-header.tsx) ã‹ã‚‰usernameè¡¨ç¤ºã‚’å‰Šé™¤
4. âœ… AIè‡ªå‹•åå‰ç”Ÿæˆ
   - [app/api/generate-name/route.ts](app/api/generate-name/route.ts) - åå‰ç”Ÿæˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
   - display_nameæœªè¨­å®šæ™‚ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä½œæˆæ™‚ã«AIãŒãƒ¦ãƒ¼ãƒ¢ã‚¢ã‚ã‚‹åå‰ã‚’è‡ªå‹•ç”Ÿæˆ
   - ä¾‹: ã€ŒãŒã‚“ã°ã‚‹å±±ç”°ã€ã€Œç¶™ç¶šã®é”äººã€ã€Œæœæ´»ãƒã‚¹ã‚¿ãƒ¼ã€
5. âœ… AIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¿å­˜ãƒ»é‡è¤‡é˜²æ­¢
   - `activity_logs`ãƒ†ãƒ¼ãƒ–ãƒ«ã«`ai_message`ã‚«ãƒ©ãƒ è¿½åŠ 
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260207130416_add_ai_message_to_activity_logs.sql`
   - ç”Ÿæˆã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ­ã‚°ã«ä¿å­˜ã€æ¬¡å›ç”Ÿæˆæ™‚ã«å‚ç…§ã—ã¦é‡è¤‡ã‚’é˜²ã
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã€Œéå»ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨åŒã˜è¡¨ç¾ã‚’ç¹°ã‚Šè¿”ã•ãªã„ã€æŒ‡ç¤ºã‚’è¿½åŠ 

### ç”»åƒå…¬é–‹/éå…¬é–‹æ©Ÿèƒ½è¿½åŠ  (2026-02-07)
1. âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ‹¡å¼µ
   - `activity_logs`ãƒ†ãƒ¼ãƒ–ãƒ«ã«`is_image_private`ã‚«ãƒ©ãƒ è¿½åŠ ï¼ˆBOOLEAN DEFAULT FALSEï¼‰
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260207150100_add_is_image_private_to_activity_logs.sql`
   - æ—¢å­˜ãƒ¬ã‚³ãƒ¼ãƒ‰ã®nullå€¤ä¿®æ­£: `supabase/migrations/20260207150200_fix_is_image_private_null.sql`
2. âœ… æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ æ‹¡å¼µ
   - [components/activity-log-form.tsx](components/activity-log-form.tsx) - ç”»åƒæ·»ä»˜æ™‚ã«å…¬é–‹/éå…¬é–‹é¸æŠUIè¿½åŠ 
   - ã€ŒğŸŒ å…¬é–‹ã€ã€ŒğŸ”’ éå…¬é–‹ã€ãƒœã‚¿ãƒ³ã§åˆ‡ã‚Šæ›¿ãˆ
3. âœ… ç”»åƒè¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ›´æ–°
   - [components/ActivityImages.tsx](components/ActivityImages.tsx) - éå…¬é–‹ç”»åƒã®è¡¨ç¤ºåˆ¶å¾¡
   - ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€ŒğŸ”’ éå…¬é–‹ã®ç”»åƒãŒNæšã‚ã‚Šã¾ã™ã€ã¨è¡¨ç¤º
   - æŠ•ç¨¿è€…æœ¬äºº: ç”»åƒè¡¨ç¤º + ã€Œéå…¬é–‹ï¼ˆä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰ã€ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
4. âœ… æŠ•ç¨¿ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°æ›´æ–°
   - [components/post-edit-dialog.tsx](components/post-edit-dialog.tsx) - ç·¨é›†æ™‚ã«ã‚‚å…¬é–‹/éå…¬é–‹å¤‰æ›´å¯èƒ½
5. âœ… å‹å®šç¾©æ›´æ–°
   - [types/database.ts](types/database.ts) - `is_image_private`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 

### URLãƒªãƒ³ã‚¯åŒ–ãƒ»OGPãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ (2026-02-07)
1. âœ… URLãƒªãƒ³ã‚¯åŒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
   - [components/LinkifiedText.tsx](components/LinkifiedText.tsx) - æŠ•ç¨¿å†…ã®URLã‚’è‡ªå‹•ãƒªãƒ³ã‚¯åŒ–
   - [lib/url-utils.ts](lib/url-utils.ts) - URLæŠ½å‡ºãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
2. âœ… OGPãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
   - [components/OgpPreviewCard.tsx](components/OgpPreviewCard.tsx) - OGPã‚«ãƒ¼ãƒ‰è¡¨ç¤º
   - [components/OgpPreviewList.tsx](components/OgpPreviewList.tsx) - è¤‡æ•°URLå¯¾å¿œã®ãƒªã‚¹ãƒˆ
   - [app/api/og-preview/route.ts](app/api/og-preview/route.ts) - OGPãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—API
3. âœ… OGPã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«
   - `ogp_cache`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ ï¼ˆURLã€ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€ç”»åƒURLã€æœ‰åŠ¹æœŸé™ç®¡ç†ï¼‰
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260207160000_add_ogp_cache_table.sql`
4. âœ… æŠ•ç¨¿ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®çµ±åˆ
   - [components/activity-log-list.tsx](components/activity-log-list.tsx) - æŠ•ç¨¿å†…å®¹ã«OGPãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
   - [components/comment-section.tsx](components/comment-section.tsx) - ã‚³ãƒ¡ãƒ³ãƒˆå†…å®¹ã«OGPãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º

### ã„ã„ã­ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§è¡¨ç¤ºæ©Ÿèƒ½ (2026-02-07)
1. âœ… ãƒ‡ãƒ¼ã‚¿å–å¾—æ‹¡å¼µ
   - [app/page.tsx](app/page.tsx) - likesã‚¯ã‚¨ãƒªã«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’è¿½åŠ 
   - å–å¾—ãƒ‡ãƒ¼ã‚¿: `id`, `user_id`, `profiles { id, username, display_name, avatar_url }`
2. âœ… ã„ã„ã­ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
   - [components/activity-log-list.tsx](components/activity-log-list.tsx) - LikeButtonæ‹¡å¼µ
   - ã„ã„ã­æ•°ï¼ˆæ•°å­—éƒ¨åˆ†ï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã§ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ãƒã‚¿ãƒ¼ãƒ»è¡¨ç¤ºåãƒ»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¸ã®ãƒªãƒ³ã‚¯ã‚’è¡¨ç¤º
   - ã„ã„ã­ãŒ0ä»¶ã®å ´åˆã¯ã‚¯ãƒªãƒƒã‚¯ä¸å¯
3. âœ… UIè©³ç´°
   - ãƒãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ã„ã„ã­/ã„ã„ã­è§£é™¤ï¼ˆå¾“æ¥é€šã‚Šï¼‰
   - æ•°å­—ã‚¯ãƒªãƒƒã‚¯ â†’ ã„ã„ã­ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
   - ãƒ€ã‚¤ã‚¢ãƒ­ã‚°å†…ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã«é·ç§»

### æ›´æ–°æ—¥æ™‚è¡¨ç¤ºã®ä¿®æ­£ (2026-02-07)
1. âœ… å•é¡Œä¿®æ­£
   - AIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¿å­˜æ™‚ã®`update`ã§`updated_at`ãŒæ›´æ–°ã•ã‚Œã¦ã—ã¾ã†å•é¡Œã‚’ä¿®æ­£
   - [components/activity-log-list.tsx](components/activity-log-list.tsx) - æ›´æ–°æ—¥æ™‚è¡¨ç¤ºã®æ¡ä»¶ã‚’å¤‰æ›´
   - `updated_at`ã¨`created_at`ã®å·®ãŒ10ç§’ä»¥å†…ã®å ´åˆã¯ã€Œæ›´æ–°ã€è¡¨ç¤ºã‚’ã‚¹ã‚­ãƒƒãƒ—
   - ã“ã‚Œã«ã‚ˆã‚ŠAIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è‡ªå‹•ä¿å­˜ã§ã¯ã€Œæ›´æ–°ã€ãŒè¡¨ç¤ºã•ã‚Œãšã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†æ™‚ã®ã¿è¡¨ç¤º

### ãƒ¢ãƒã‚¤ãƒ«è¡¨ç¤ºã®ãƒ©ãƒ™ãƒ«é…ç½®ä¿®æ­£ (2026-02-07)
1. âœ… ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ”¹å–„
   - [components/activity-log-list.tsx](components/activity-log-list.tsx) - æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ã®ãƒ©ãƒ™ãƒ«é…ç½®ã‚’å¤‰æ›´
   - é”æˆãƒ©ãƒ™ãƒ«ï¼ˆğŸ†é”æˆï¼‰ã¨ã‚«ãƒ†ã‚´ãƒªãƒ©ãƒ™ãƒ«ï¼ˆğŸ’ªç­‹ãƒˆãƒ¬ç­‰ï¼‰ã‚’ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã®ä¸‹ã®è¡Œã«ç§»å‹•
   - ãƒ¢ãƒã‚¤ãƒ«ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåãŒè¦‹åˆ‡ã‚Œã‚‹å•é¡Œã‚’è§£æ¶ˆ
   - ä¿®æ­£å¾Œãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:
     - 1è¡Œç›®: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå + ãƒ•ã‚©ãƒ­ãƒ¼ãƒœã‚¿ãƒ³ + â‹¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼
     - 2è¡Œç›®: é”æˆãƒ©ãƒ™ãƒ« + ã‚«ãƒ†ã‚´ãƒªãƒ©ãƒ™ãƒ«
     - 3è¡Œç›®: æ—¥ä»˜æƒ…å ±

### æŠ•ç¨¿å¾Œãƒ¢ãƒ¼ãƒ€ãƒ«ã®çµµæ–‡å­—ãƒ©ãƒ³ãƒ€ãƒ åŒ– (2026-02-07)
1. âœ… çµµæ–‡å­—ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
   - [components/encouragement-modal.tsx](components/encouragement-modal.tsx) - çµµæ–‡å­—ã‚’ãƒ©ãƒ³ãƒ€ãƒ é¸æŠã«å¤‰æ›´
   - é”æˆãƒ­ã‚°ã‚¿ã‚¤ãƒˆãƒ«: ğŸ†, ğŸŠ, ğŸ‘‘, ğŸ¥‡, â­ ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ 
   - é”æˆãƒ­ã‚°æœ¬æ–‡: ğŸ‰, ğŸŠ, âœ¨, ğŸŒŸ, ğŸ’«, ğŸ¥³ ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ 
   - æ´»å‹•ãƒ­ã‚°ã‚¿ã‚¤ãƒˆãƒ«: ğŸ’ª, ğŸ”¥, âš¡, ğŸŒˆ, ğŸš€ ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ 
   - æ´»å‹•ãƒ­ã‚°æœ¬æ–‡: âœ¨, ğŸŒŸ, ğŸ’«, ğŸ™Œ, ğŸ‘, ğŸ¯ ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ 
   - ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒé–‹ããŸã³ã«æ–°ã—ã„çµµæ–‡å­—ãŒé¸ã°ã‚Œã‚‹

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒç¢ºèªæ–¹æ³•
Supabaseã§å®Ÿéš›ã®ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã‚’ç¢ºèªï¼š
1. Supabaseãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ â†’ Table Editor
2. ã¾ãŸã¯ SQL Editor ã§ `\d profiles` `\d posts` ã‚’å®Ÿè¡Œ

## é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

### ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰
```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ“ãƒ«ãƒ‰
npm run build

# æœ¬ç•ªç’°å¢ƒã§èµ·å‹•
npm start

# ãƒªãƒ³ãƒˆ
npm run lint

# å‹ãƒã‚§ãƒƒã‚¯
npx tsc --noEmit
```

### Supabaseå‹å®šç¾©ã®æ›´æ–°
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã‚’å¤‰æ›´ã—ãŸå ´åˆã¯å‹å®šç¾©ã‚’å†ç”Ÿæˆï¼š
```bash
npx supabase gen types typescript --project-id eryskzojvhzffszreycd > types/database.ts
```

**æ³¨æ„**: Supabase CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ãªå ´åˆï¼š
```bash
npm install -g supabase
supabase login
```

### æ–°ã—ã„shadcn/uiã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¿½åŠ 
```bash
npx shadcn@latest add [component-name]

# ä¾‹
npx shadcn@latest add dialog
npx shadcn@latest add toast
npx shadcn@latest add dropdown-menu
```

### Git ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
```bash
# å¤‰æ›´çŠ¶æ³ã‚’ç¢ºèª
git status

# å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git add .

# ã‚³ãƒŸãƒƒãƒˆ
git commit -m "æ©Ÿèƒ½è¿½åŠ : èª¬æ˜"

# GitHubã«ãƒ—ãƒƒã‚·ãƒ¥
git push origin main

# ãƒ–ãƒ©ãƒ³ãƒä½œæˆï¼ˆæ–°æ©Ÿèƒ½é–‹ç™ºæ™‚ï¼‰
git checkout -b feature/æ©Ÿèƒ½å

# ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒƒã‚·ãƒ¥
git push -u origin feature/æ©Ÿèƒ½å

# ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆï¼ˆgh CLIä½¿ç”¨ï¼‰
gh pr create --title "æ©Ÿèƒ½è¿½åŠ " --body "èª¬æ˜"
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆè¿½åŠ ï¼‰

### 5. Supabaseæ¥ç¶šã‚¨ãƒ©ãƒ¼
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆURLã¨Anon KeyãŒæ­£ã—ã„ã‹ç¢ºèª
- Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒèµ·å‹•ä¸­ã‹ç¢ºèªï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ç¢ºèªï¼‰
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèª

### 6. ãƒ†ãƒ¼ãƒ–ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼
- [supabase-setup.sql](supabase-setup.sql) ãŒæ­£ã—ãå®Ÿè¡Œã•ã‚ŒãŸã‹ç¢ºèª
- Supabase Table Editorã§ãƒ†ãƒ¼ãƒ–ãƒ«ã®å­˜åœ¨ã‚’ç¢ºèª
- å¿…è¦ã«å¿œã˜ã¦SQLã‚’å†å®Ÿè¡Œ

### 7. ç’°å¢ƒå¤‰æ•°ãŒèª­ã¿è¾¼ã¾ã‚Œãªã„
- `.env.local` ãƒ•ã‚¡ã‚¤ãƒ«åãŒæ­£ç¢ºã‹ç¢ºèªï¼ˆã‚¹ãƒšãƒ¼ã‚¹ãªã©ï¼‰
- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ï¼ˆå¤‰æ›´å¾Œã¯å¿…é ˆï¼‰
- `NEXT_PUBLIC_`ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãŒã‚ã‚‹ã‹ç¢ºèª

## å‚è€ƒãƒªãƒ³ã‚¯

- [Next.js App Router Documentation](https://nextjs.org/docs/app)
- [Supabase Auth Docs](https://supabase.com/docs/guides/auth)
- [Supabase JavaScript Client](https://supabase.com/docs/reference/javascript/introduction)
- [shadcn/ui Components](https://ui.shadcn.com/)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ãƒªã‚½ãƒ¼ã‚¹
- [Vercelãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰](https://vercel.com/nagi-whorays-projects/activity-log-sns)
- [æœ¬ç•ªã‚µã‚¤ãƒˆ](https://activity-log-sns.vercel.app)
- [Supabaseãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰](https://supabase.com/dashboard/project/eryskzojvhzffszreycd)
- [Supabase Table Editor](https://supabase.com/dashboard/project/eryskzojvhzffszreycd/editor)
- [Supabase SQL Editor](https://supabase.com/dashboard/project/eryskzojvhzffszreycd/sql)

### ã‚«ãƒ†ã‚´ãƒªè¿½åŠ : é£Ÿäº‹ãƒ»ä»•äº‹ãƒ»é–‹ç™º (2026-02-07)
1. âœ… æ–°ã‚«ãƒ†ã‚´ãƒªè¿½åŠ 
   - ğŸ½ï¸ é£Ÿäº‹ (`meal`) - ç·‘ç³»
   - ğŸ’¼ ä»•äº‹ (`work`) - ç´«ç³»
   - ğŸ’» é–‹ç™º (`dev`) - ãƒ†ã‚£ãƒ¼ãƒ«ç³»
2. âœ… å‹å®šç¾©æ›´æ–°
   - [types/database.ts](types/database.ts) - `ActivityCategory`å‹ã€`ACTIVITY_CATEGORY_LABELS`
3. âœ… DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
   - `supabase/migrations/20260207075734_add_category_meal_work_dev.sql`
   - ENUMå‹ã«3ã¤ã®å€¤ã‚’è¿½åŠ 
4. âœ… UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ›´æ–°
   - [components/activity-log-form.tsx](components/activity-log-form.tsx) - æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ 
   - [components/post-edit-dialog.tsx](components/post-edit-dialog.tsx) - ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
   - [components/activity-log-list.tsx](components/activity-log-list.tsx) - æŠ•ç¨¿è¡¨ç¤ºã‚¹ã‚¿ã‚¤ãƒ«
   - [components/activity-calendar.tsx](components/activity-calendar.tsx) - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è‰²
   - [components/timeline-tabs.tsx](components/timeline-tabs.tsx) - ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¿ãƒ–
   - [app/api/generate-message/route.ts](app/api/generate-message/route.ts) - AIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ

### æ´»å‹•æ™‚é–“å…¥åŠ›æ©Ÿèƒ½è¿½åŠ  (2026-02-07)
1. âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ‹¡å¼µ
   - `activity_logs`ãƒ†ãƒ¼ãƒ–ãƒ«ã«`activity_duration_minutes`ã‚«ãƒ©ãƒ è¿½åŠ ï¼ˆINTEGERã€NULLè¨±å®¹ï¼‰
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260207173250_add_activity_duration_minutes.sql`
2. âœ… å‹å®šç¾©æ›´æ–°
   - [types/database.ts](types/database.ts) - `activity_duration_minutes`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
3. âœ… æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ æ‹¡å¼µ
   - [components/activity-log-form.tsx](components/activity-log-form.tsx) - æ´»å‹•æ™‚é–“å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
   - æ´»å‹•ãƒ­ã‚°ã®å ´åˆã®ã¿è¡¨ç¤ºï¼ˆé”æˆãƒ­ã‚°ã§ã¯éè¡¨ç¤ºï¼‰
   - æ´»å‹•æ—¥ã®ä¸‹ã«é…ç½®ã€å…¥åŠ›ã¯ä»»æ„
4. âœ… AIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆé€£æº
   - [app/api/generate-message/route.ts](app/api/generate-message/route.ts) - æ´»å‹•æ™‚é–“ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å«ã‚ã‚‹
   - ä¾‹: ã€Œæ´»å‹•æ™‚é–“: 30åˆ†ã€

### ãƒã‚¤ã‚¢ã‚¤ãƒ†ãƒ æ©Ÿèƒ½è¿½åŠ  (2026-02-07)
1. âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ‹¡å¼µ
   - `user_items`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ ï¼ˆå•†å“åã€URLã€ä½¿ç”¨æ–¹æ³•ã€åˆ©ç”¨é–‹å§‹æ—¥ã€åˆ©ç”¨åœæ­¢æ—¥ï¼‰
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: `supabase/migrations/20260207200000_add_user_items_table.sql`
   - RLSãƒãƒªã‚·ãƒ¼: å…¨å“¡é–²è¦§å¯ã€æœ¬äººã®ã¿ä½œæˆ/æ›´æ–°/å‰Šé™¤å¯
2. âœ… å‹å®šç¾©æ›´æ–°
   - [types/database.ts](types/database.ts) - `UserItem`, `UserItemInsert`, `UserItemUpdate`å‹è¿½åŠ 
3. âœ… ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
   - [components/user-items-section.tsx](components/user-items-section.tsx) - æŠ˜ã‚ŠãŸãŸã¿å¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³
   - [components/user-item-card.tsx](components/user-item-card.tsx) - ã‚¢ã‚¤ãƒ†ãƒ ã‚«ãƒ¼ãƒ‰ï¼ˆOGPãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ä»˜ãï¼‰
   - [components/user-item-form-dialog.tsx](components/user-item-form-dialog.tsx) - è¿½åŠ ãƒ»ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
4. âœ… ãƒã‚¤ãƒšãƒ¼ã‚¸çµ±åˆ
   - [app/users/[id]/page.tsx](app/users/[id]/page.tsx) - UserProfileHeaderã®ä¸‹ã«é…ç½®
5. âœ… æ©Ÿèƒ½è©³ç´°
   - å•†å“åï¼ˆå¿…é ˆï¼‰ã€å•†å“URLï¼ˆä»»æ„ï¼‰ã€ä½¿ç”¨æ–¹æ³•ï¼ˆä»»æ„ï¼‰ã‚’ç™»éŒ²
   - ç™»éŒ²æ™‚ã«ã€Œåˆ©ç”¨é–‹å§‹æ—¥ã€ãŒè‡ªå‹•è¨­å®šï¼ˆç·¨é›†ä¸å¯ï¼‰
   - ã€Œåˆ©ç”¨åœæ­¢ã€ã§åœæ­¢æ—¥ã‚’è¨˜éŒ²ï¼ˆä¸€åº¦è¨­å®šã™ã‚‹ã¨å¤‰æ›´ä¸å¯ï¼‰
   - å•†å“URLãŒã‚ã‚‹å ´åˆã¯OGPãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
   - åˆ©ç”¨ä¸­ã‚¢ã‚¤ãƒ†ãƒ ãŒå„ªå…ˆè¡¨ç¤ºã€åœæ­¢æ¸ˆã¿ã¯ä¸‹ã«è¡¨ç¤º
   - æŠ˜ã‚ŠãŸãŸã¿å¼ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯é–‰ã˜ãŸçŠ¶æ…‹

### ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– (2026-02-07)
1. âœ… ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³APIä½œæˆ
   - [app/api/activity-logs/route.ts](app/api/activity-logs/route.ts) - ã‚«ãƒ¼ã‚½ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³API
   - ã‚¿ãƒ–ï¼ˆall/following/activity/achievementï¼‰ã¨ã‚«ãƒ†ã‚´ãƒªã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯¾å¿œ
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãƒ»æ—¥ä»˜ã«ã‚ˆã‚‹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯¾å¿œï¼ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ç”¨ï¼‰
2. âœ… ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
   - [components/activity-log-list-client.tsx](components/activity-log-list-client.tsx) - Intersection Observerä½¿ç”¨
   - ç”»é¢ä¸‹éƒ¨åˆ°é”æ™‚ã«è‡ªå‹•ã§è¿½åŠ èª­ã¿è¾¼ã¿
   - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ»çµ‚ç«¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
3. âœ… ActivityLogCardã®ãƒ¡ãƒ¢åŒ–
   - [components/activity-log-card.tsx](components/activity-log-card.tsx) - React.memoã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
   - ã‚«ã‚¹ã‚¿ãƒ æ¯”è¼ƒé–¢æ•°ã§likes/commentså¤‰æ›´æ™‚ã®ã¿å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
4. âœ… æ¥½è¦³çš„æ›´æ–°ã®å®Ÿè£…
   - ã„ã„ã­ãƒœã‚¿ãƒ³ã§`router.refresh()`ã‚’å‰Šé™¤
   - ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒ†ãƒ¼ãƒˆã®ã¿æ›´æ–°ã§UIå³æ™‚åæ˜ 
5. âœ… ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®æœ€é©åŒ–
   - åˆå›èª­ã¿è¾¼ã¿ã¯éå»12ãƒ¶æœˆåˆ†ã®ã¿å–å¾—
   - [app/api/calendar-data/route.ts](app/api/calendar-data/route.ts) - å…¨æœŸé–“ãƒ‡ãƒ¼ã‚¿å–å¾—API
   - 12ãƒ¶æœˆã‚ˆã‚Šå‰ã®æœˆã«ç§»å‹•æ™‚ã€å…¨æœŸé–“ãƒ‡ãƒ¼ã‚¿ã‚’å‹•çš„å–å¾—
6. âœ… å‹å®šç¾©è¿½åŠ 
   - [types/database.ts](types/database.ts) - `PaginatedResponse`, `ActivityLogFilters`å‹è¿½åŠ 
7. âœ… ãƒšãƒ¼ã‚¸ä¿®æ­£
   - [app/page.tsx](app/page.tsx) - ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾å¿œ
   - [app/users/[id]/page.tsx](app/users/[id]/page.tsx) - ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« + ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æœ€é©åŒ–
8. âœ… 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šä»¶æ•°: 20ä»¶ï¼ˆPAGE_SIZEå®šæ•°ï¼‰

---

**æœ€çµ‚æ›´æ–°**: 2026-02-07
**æ›´æ–°å†…å®¹**: ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
